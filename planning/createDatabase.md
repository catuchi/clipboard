DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS categories CASCADE;
DROP TABLE IF EXISTS resources CASCADE;
DROP TABLE IF EXISTS comments CASCADE;
DROP TABLE IF EXISTS likes CASCADE;
DROP TABLE IF EXISTS rates CASCADE;

CREATE TABLE users (id SERIAL PRIMARY KEY NOT NULL, username VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL);

CREATE TABLE categories (id SERIAL PRIMARY KEY NOT NULL, name VARCHAR(255));

CREATE TABLE resources (id SERIAL PRIMARY KEY NOT NULL, title VARCHAR(255) NOT NULL, description TEXT NOT NULL, url VARCHAR(255), category_id INTEGER REFERENCES categories(id) ON DELETE CASCADE, user_id INTEGER REFERENCES users(id) ON DELETE CASCADE, created_at TIMESTAMP);

CREATE TABLE comments (id SERIAL PRIMARY KEY NOT NULL, description TEXT NOT NULL, user_id INTEGER REFERENCES users(id) ON DELETE CASCADE, resource_id INTEGER REFERENCES resources(id) ON DELETE CASCADE);

CREATE TABLE likes (id SERIAL PRIMARY KEY, resource_id INTEGER REFERENCES resources(id) ON DELETE CASCADE, user_id INTEGER REFERENCES users(id) ON DELETE CASCADE);

CREATE TABLE rates (id SERIAL PRIMARY KEY, resource_id INTEGER REFERENCES resources(id) ON DELETE CASCADE, user_id INTEGER REFERENCES users(id) ON DELETE CASCADE);

## add tables to the database
\i db/schema/01_schema.sql

## add inserts to the database
\i db/seeds/01_seeds.sql
